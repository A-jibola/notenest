<div class="min-h-screen flex items-center justify-center bg-[var(--primary-color)] py-6">
  <div class="flex flex-col md:flex-row w-full max-w-5xl shadow-lg bg-white rounded-lg overflow-hidden">

    <!-- Left Side (Visual) -->
    <div class="hidden md:flex w-1/2 bg-[var(--accent-color)] items-center justify-center p-6">
      <h2 class="text-2xl font-bold text-[var(--text-color)]">Welcome to Notenest âœ¨</h2>
    </div>

    <div class="w-full md:w-1/2 flex items-center justify-center px-6 py-6 md:px-6 md:py-6">
      <div class="w-full max-w-md">
        <h2 class="text-2xl font-bold text-[var(--text-color)] mb-4">Log In</h2>

        <% if session[:show_signup_success] %>
          <div id="signup-success-message" class="mb-4 p-4 rounded-lg border-2 border-[var(--dark-color)] bg-[var(--accent-color)] text-[var(--text-color)] font-semibold text-center shadow-xl animate-pulse">
            <div class="flex items-center justify-center gap-2">
              <svg class="w-6 h-6 text-green-600 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
              </svg>
              <span class="text-base">Account created successfully! Please sign in to continue.</span>
            </div>
          </div>
          <% session.delete(:show_signup_success) %>
          <script>
            // Auto-hide success message after 4 seconds with fade out
            setTimeout(function() {
              var message = document.getElementById('signup-success-message');
              if (message) {
                message.style.transition = 'opacity 0.6s ease-out';
                message.style.opacity = '0';
                setTimeout(function() {
                  if (message.parentNode) {
                    message.remove();
                  }
                }, 600);
              }
            }, 4000);
          </script>
        <% end %>

        <% if notice && !session[:show_signup_success] %>
        <div class="notice mb-3"><%= notice %></div>
        <% end %>
        <% if alert %>
        <div class="alert mb-3"><%= alert %></div>
        <% end %>

        <%= form_for(resource, as: resource_name, url: session_path(resource_name)) do |f| %>
          <div class="mb-3">
            <%= f.label :email, class: "block mb-1 text-sm font-medium text-[var(--text-color)]" %>
            <%= f.email_field :email, autofocus: true, autocomplete: "email", class: "w-full px-4 py-2 border border-[var(--accent-color)] rounded focus:ring-2 focus:ring-[var(--dark-color)] focus:outline-none transition" %>
          </div>

          <div class="mb-3">
            <%= f.label :password, class: "block mb-1 text-sm font-medium text-[var(--text-color)]" %>
            <%= f.password_field :password, autocomplete: "current-password", class: "w-full px-4 py-2 border border-[var(--accent-color)] rounded focus:ring-2 focus:ring-[var(--dark-color)] focus:outline-none transition" %>
          </div>

          <% if devise_mapping.rememberable? %>
            <div class="flex items-center mb-3">
              <%= f.check_box :remember_me, class: "mr-2 h-4 w-4 text-[var(--dark-color)] border-gray-300 rounded focus:ring-2 focus:ring-[var(--dark-color)]" %>
              <%= f.label :remember_me, class: "text-sm text-[var(--text-color)]" %>
            </div>
          <% end %>

          <div class="actions mb-3">
            <%= f.submit "Log in", class: "w-full bg-[var(--dark-color)] text-white py-2 rounded hover:opacity-90 transition font-medium" %>
          </div>
        <% end %>
        
        <%= render "devise/shared/links" %>
      </div>
    </div>
  </div>
</div>